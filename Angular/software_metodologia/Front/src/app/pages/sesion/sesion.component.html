<!-- ###########################   AGREGAR TEMA   ############################### -->
<change-state [(visible)]="showDialogAddCarre">
<h2 style="margin: 10px;margin-bottom: 20px;" >Crear un Tema Nuevo</h2>
<div class="col-12" style="margin-bottom: 20px;">
   <input #nuevaCarr type="text" class="form-control" placeholder="Descripcion">
</div>
<div class="row">
   <div class="col-6"> 
      <button (click)="showDialogAddCarre = !showDialogAddCarre" (click)="crearTema(nuevaCarr.value)"  class="btn" style="width: 100%;background: #72C585" >Agregar</button>
   </div>
   <div class="col-6"> 
      <button (click)="showDialogAddCarre = !showDialogAddCarre" class="btn" style="width: 100%;background: #E87B85" >Cancelar</button>
   </div>
</div>
</change-state>


<!-- ###########################   AGREGAR TAREA   ############################### -->
<change-state [(visible)]="showADD_TAREA">
<h2 style="margin: 10px;margin-bottom: 20px;" >Crear una Tarea Nueva</h2>
<div class="col-12" style="margin-bottom: 20px;">
   <input #nuevaTarea type="text" class="form-control" placeholder="Descripcion">
</div>
<div class="row">
   <div class="col-6"> 
      <button (click)="showADD_TAREA = !showADD_TAREA" (click)="crearTarea(nuevaTarea.value)"  class="btn" style="width: 100%;background: #72C585" >Agregar</button>
   </div>
   <div class="col-6"> 
      <button (click)="showADD_TAREA = !showADD_TAREA" class="btn" style="width: 100%;background: #E87B85" >Cancelar</button>
   </div>
</div>
</change-state>


<form *ngIf="paso==0" class="form-horizontal" action='' method="POST">
   <div class="row">
      <div class="col-4" >
      </div>
      <div class="col-4" >
         <select style="width: 100%;margin-top: 200px;" #clii class="dropdown-select" (change)="selectActa(clii)">
         <option disabled hidden [value]="empty">-- Seleccione el Acta --</option>
         <option *ngFor="let actaCit of actasCitadas" >Acta {{actaCit.id}}</option>
         </select>
         <button (click)="clicActaNext(clii)" [disabled]="actaSelect == null" type="button" class="btn"><b>Continuar</b></button>
      </div>
      <div class="col-4" >
      </div>
   </div>
   <div class="row" >
   </div>
</form>




<form style="margin-top: 200px;" *ngIf="paso==1" class="form-horizontal" action='' method="POST">
   <div class="row" >
      <div class="col-1" >
      </div>
      <div class="col-5" >
         Integrantes de la reunion seleccionados
         <div *ngIf="actaSelect.integrantes?.length>0">
            <div class="list-group" *ngFor="let asistente of actaSelect.integrantes" >
               <div class="row" >
                  <div class="col-7" style="padding-right: 0px;" >
                     <button style="width: 100%;" type="button" class="btn"><b>{{asistente.nombre}}</b></button>
                  </div>
                  <div class="col-4" style="padding-right: 0px;align-self: center;" >
                     <select style="width: 100%;text-align: center;" #us class="dropdown-select" (change)="addUser(us)">
                     <option disabled hidden [value]="selectUndefinedOptionValue">-- Estado --</option>
                     <option *ngFor="let estado of estadosUsuario" >{{estado}}</option>
                     </select>
                  </div>
                  <div class="col-1" >
                     <button  (click)="removeUser(asistente)" style="width: 32px;padding-left: 0px;padding-right: 0px;" type="button" class="btn">
                     <img src="assets/trash.png" style="width: 18px;" >
                     </button> 
                  </div>
               </div>
            </div>
         </div>
         <div *ngIf="actaSelect.integrantes?.length==0">
            <div class="list-group" >
               <div class="row" >
                  <div class="col-10" style="padding-right: 0px;" >
                     <button style="width: 100%;" type="button" class="btn"><b>Sin Asistentes ...</b></button>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <div class="col-4" style="margin-left: 60px;">
         Agregar nuevos integrantes a la reunion
         <select style="width: 100%;" #us class="dropdown-select" (change)="addUser(us)">
         <option disabled hidden [value]="Presente">-- Seleccione un usuario para agregar a la reunion --</option>
         <option *ngFor="let usuario of usuarios" >{{usuario.nombre}}</option>
         </select>
      </div>
   </div>
   <div class="row" style="margin-top: 25px;">
      <div class="col-2 offset-5" >
         <button style="width: 100%;" (click)="paso=2" [disabled]="actaSelect == null" type="button" class="btn"><b>Continuar</b></button>
      </div>
   </div>
</form>






<form style="width: 100%;margin-top: 200px;" *ngIf="paso==2" class="form-horizontal" action='' method="POST">
   <div class="row" >
      <div class="col-6 offset-3" >
         Integrantes de la reunion seleccionados
         <div *ngIf="actaSelect.integrantes?.length>0">
            <div class="list-group" *ngFor="let asistente of actaSelect.integrantes" >
               <div class="row" >
                  <div class="col-6" style="padding-right: 0px;" >
                     <button style="width: 100%;" type="button" class="btn"><b>{{asistente.nombre}}</b></button>
                  </div>
                  <div class="col-6" style="padding-right: 0px;align-self: center;" >
                  <input #fin (change)="asistente.finEnMente=fin.value" type="text" class="form-control" placeholder="Fin en mente">

                  </div>
               </div>
            </div>
         </div>
         <div *ngIf="actaSelect.integrantes?.length==0">
            <div class="list-group" >
               <div class="row" >
                  <div class="col-10" style="padding-right: 0px;" >
                     <button style="width: 100%;" type="button" class="btn"><b>Sin Asistentes ...</b></button>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <div class="row" style="margin-top: 25px;">
      <div class="col-2 offset-5" >
         <button style="width: 100%;" (click)="paso=3" [disabled]="actaSelect == null" type="button" class="btn"><b>Continuar</b></button>
      </div>
   </div>
</form>









<form style="margin-top: 50px;" *ngIf="paso==3" class="form-horizontal" action='' method="POST">

<!-- ################################## Temas ##################################  -->


   <div  *ngIf="temasDelActa.length>0" class="row" >
      <div class="col-xl-2" >
      </div>
      <div class="col-xl-8" >
         <div class="row" style="align-items: center;">
            <div class="col-8" >
               <h4>Temas Abiertos</h4>
            </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;text-align: right;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMenos()">
               <img src="assets/left.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-1" style="text-align: center;padding-left: 0px;padding-right: 0px;">  {{indice + 1}} de {{temasDelActa?.length}} </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMas()">      
               <img src="assets/rigth.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;">
               <button (click)="showDialogAddCarre=true" style="width: 40px;padding-left: 0px;padding-right: 0px;" type="button" class="btn" (click)="indiceTemaMenos()">
               <img src="assets/reque.png" style="width: 22px;" >
               </button> 
            </div>

         </div>
         <textarea  disabled class="form-control" rows="8" id="comment" style="font-size: x-small;">
Tema:{{temaActual.id}} [ {{temaActual.detalle}} ] {{toString(temaActual.eventos)}}
         </textarea>
         
         <div class="row" style="align-items: center;">
            <div class="col-8" style="padding-right: 0px;" >
               <textarea #comment class="form-control" rows="1" id="comment" placeholder="Nuevo Comentario"></textarea>
            </div>
            <div class="col-2" style="padding-right: 0px;" >
               <button (click)="addComentario('Comentario del acta: ' + actaSelect.id +' - ' + comment.value)" type="button" class="btn" style="width: 100%;font-size: x-small;" >Agregar Comentario</button>
            </div>
            <div class="col-2" >
               <div style="text-align: center;" >         
                  <button (click)="closeActa('Comentario del acta: ' + actaSelect.id +' - ' + comment.value)" type="button" style="width: 100%;font-size: x-small;" class="btn">Cerrar Tema</button>
               </div>            
            </div>

         </div>

<!-- ################################## Tareas ##################################  -->

         <div class="row" style="align-items: center;padding-top: 35px;">
            <div class="col-8" style="display: flex;align-items: center;" >
               <h4 style="margin-right: 20px;">Tareas Abiertas</h4>
                  <input type="radio" id="contactChoice1" name="contact" (click)="updateFiltro('Todas')" checked>
                  <label style="margin: 0px;" >Todas</label>

                  <input type="radio" id="contactChoice2" name="contact" (click)="updateFiltro('Abierto')">
                  <label style="margin: 0px;" >Activas</label> 
                  
                  <input type="radio" id="contactChoice3" name="contact" (click)="updateFiltro('Cerrada')">
                  <label style="margin: 0px;" >Cerradas</label>             
            </div>
            
            <div class="col-1 " style="padding-left: 5px;padding-right: 5px;text-align: right;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTareaMenos()">
               <img src="assets/left.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-1" style="text-align: center;padding-left: 0px;padding-right: 0px;"> {{indiceTAREA + 1}} de {{tareasMostrar.length}} </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTareaMas()">      
               <img src="assets/rigth.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;">
               <button (click)="showADD_TAREA=true" style="width: 40px;padding-left: 0px;padding-right: 0px;" type="button" class="btn">
               <img src="assets/reque.png" style="width: 22px;" >
               </button> 
            </div>
         </div>
         <textarea id="Texto Tarea" disabled class="form-control" rows="8" style="font-size: x-small;" placeholder="Agregar Comentario">Tarea:{{tareaActual.id}} [ {{tareaActual.detalle}} ] -  {{tareaActual.estado}} {{toString(tareaActual.eventos)}}</textarea>

         <div class="row" style="align-items: center;">
            <div class="col-8" style="padding-right: 0px;" >
               <textarea #comment2 class="form-control" rows="1" id="comment2" placeholder="Nuevo Comentario"></textarea>
            </div>
            <div class="col-2" style="padding-right: 0px;" >
               <button (click)="addComentarioTarea('Comentario del acta: ' + actaSelect.id +' - ' + comment2.value)" type="button" class="btn" style="width: 100%;font-size: x-small;" [disabled]="tareaActual.estado != 'Abierto'" >Agregar Comentario</button>
            </div>
            <div class="col-2" >
               <div style="text-align: center;" >         
                  <button (click)="closeTarea()" type="button" style="width: 100%;font-size: x-small;" class="btn" [disabled]="tareaActual.estado != 'Abierto'" >Cerrar Tarea</button>
               </div>            
            </div>

         </div>

         <button (click)="checkAvanzarTareas()" type="button" class="btn"><b>Continuar</b></button>
      </div>
   </div>

   <div  *ngIf="temasDelActa.length==0" class="row" >
      <div class="col-xl-2" >
      </div>
      <div class="col-xl-8" >
         <div class="row" style="align-items: center;">
            <div class="col-8" >
               <h4>Temas Abiertos</h4>
            </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;;opacity: 0.5;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMenos()">
               <img src="assets/left.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-2" style="text-align: center;">Sin temas</div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;opacity: 0.5;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMas()">      
               <img src="assets/rigth.png" style="width: 150%;" >
               </button> 
            </div>
         </div>
         <textarea (dblclick)="showDialogAddCarre=true" class="form-control" rows="4" id="comment" placeholder="Agregar Comentario" readonly>  No existen temas abiertos, para crear uno nuevo haga clic aqui .... </textarea>
         <button (click)="paso=5" type="button" class="btn"><b>Continuar</b></button>
      </div>
   </div>

</form>



<form style="margin-top: 50px;" *ngIf="paso==4" class="form-horizontal" action='' method="POST">
   <div class="row" >
      <div class="col-xl-2" >
      </div>
      <div class="col-xl-8" >
         <div class="row" style="align-items: center;">
            <div class="col-8" >
               <h4>Temas Abiertos</h4>
            </div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;;opacity: 0.5;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMenos()">
               <img src="assets/left.png" style="width: 150%;" >
               </button> 
            </div>
            <div class="col-2" style="text-align: center;">Sin temas</div>
            <div class="col-1" style="padding-left: 5px;padding-right: 5px;opacity: 0.5;">
               <button style="width: 32px;" type="button" class="btn" (click)="indiceTemaMas()">      
               <img src="assets/rigth.png" style="width: 150%;" >
               </button> 
            </div>
         </div>
         <textarea (dblclick)="showDialogAddCarre=true" class="form-control" rows="4" id="comment" placeholder="Agregar Comentario" readonly>  No existen temas abiertos, para crear uno nuevo haga clic aqui .... </textarea>
         <button (click)="paso=5" type="button" class="btn"><b>Continuar</b></button>
      </div>
   </div>

</form>