

<button (click)="visiblePop = !visiblePop" style="margin: 7px;" type="button" class="btn">{{titulo}}</button>
<change-state [(visible)]="visiblePop">
<h2 style="margin: 10px;margin-bottom: 20px;" >{{titulo}}</h2>
<table class="table table-hover">
   <thead>
      <tr>
         <td>Id</td>
         <td>Nombre</td>
         <td>Logo</td>
         <td></td>
         <td></td>
         <td></td>

      </tr>
   </thead>
   <tbody>
      <tr *ngFor="let transfer of empresas" >
         <td style="padding: 2px;vertical-align: middle;" >{{transfer.id}}</td>
         <!-- Modo Lectura -->
         <td *ngIf="!transfer.edit" style="padding: 2px;vertical-align: middle;" >{{transfer.nombreEmpresa}}</td>
         <td *ngIf="!transfer.edit" style="padding: 2px;vertical-align: middle;" >
            <img src="{{transfer.logoEmpresa}}" style="max-width: 40px; max-height: 40px">
         </td>
         <td *ngIf="!transfer.edit"  style="padding: 2px;vertical-align: middle;" >
            <button [disabled]="modoCreacion" 
            (click)="transfer.edit=true" 
            (click)="modoCreacion=true" 
            (click)="nombreAux=transfer.nombreEmpresa" 
            style="width: 100px;font-size: small;"  >Editar</button> 
         </td>
         <td *ngIf="!transfer.edit" style="padding-left: 0px;padding-right: 0px;">   
            <create-user (click)="setEmpresaLocalSto(transfer)"></create-user>
         </td>
         <!-- Modo Edicion -->
         <td *ngIf="transfer.edit" style="padding: 2px;vertical-align: middle;" >
            <input #nombreEmpresa value="{{transfer.nombreEmpresa}}" 
            (change)="nombreAux=nombreEmpresa.value" style="width: 100px;font-size: small;" >
         </td>
         <td *ngIf="transfer.edit" style="padding: 2px;vertical-align: middle;" >

<div class="col-12" style="font-size: x-small;padding-top: 10px;padding-left: 37px;margin: 0px;text-align: center;" >
Adjuntar un archivo (max 1 MB)
   <input type="file" ng2FileSelect [uploader]="uploader" (change)="onFileDrop($event)" multiple [hidden]="false" accept=".gif,.jpg,.png" style="color: #DCE2F4;width: 100%;">
</div>
         
         </td>
         <td *ngIf="transfer.edit" style="padding: 2px;vertical-align: middle;" >
            <button 
            (click)="transfer.edit=false"
            (click)="modoCreacion=true" 
            (click)="updateEmpresa(transfer.id, nombreAux)" >Guardar</button> 
         </td>
         <td *ngIf="transfer.edit" style="padding: 2px;vertical-align: middle;">
            <button 
            (click)="transfer.edit=false" 
            (click)="modoCreacion=false" >Cancelar</button> 
         </td>
         <td *ngIf="!transfer.edit" style="padding-left: 0px;padding-right: 0px;">   
            <create-estrategia (click)="setEmpresaLocalSto(transfer)"></create-estrategia>
         </td>
      </tr>
   </tbody>
</table>

<div class="row">
   <div class="col-6"> 
      <button (click)="visiblePop=!visiblePop" class="btn" style="width: 100%;background: #72C585" >Listo</button>
   </div>
</div>
</change-state>

